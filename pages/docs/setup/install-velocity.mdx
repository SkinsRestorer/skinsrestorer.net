import {Callout, Steps} from "nextra-theme-docs";

# Installation on Velocity

## Requirements

To be able to use SkinsRestorer on your server, little is needed:

<Callout emoji="ðŸ“”">
    Most Minecraft server hosting companies have all of this.
</Callout>

* Java from at least version 8
* Internet connection through ports 80 (http) & 443 (https) & 53 (dns) (
issues? > [troubleshoot connection](https://github.com/SkinsRestorer/SkinsRestorerX/wiki/Troubleshoot#connection))
* Minecraft server versions and variants that we
support [[check overview](https://github.com/SkinsRestorer/SkinsRestorerX/blob/master/README.md)]

## Basic Installation

In this section, you can read how to set up our plugin SkinsRestorer your for Minecraft Server/Network!
Select your server type below to get started.

<Callout type="info" emoji="â„¹ï¸">
    The plugin only works properly when you also install it on your backend (Spigot/Sponge) servers!
</Callout>

<Callout type="info" emoji="â„¹ï¸">
    **Paper is suggested for velocity**
</Callout>

<Steps>
    ### Download the plugin
    Download the latest version from [SpigotMC](https://www.spigotmc.org/resources/skinsrestorer.2124/)

    ### Put it in the Velocity folder
    Place the `SkinsRestorer.jar` in the ./plugins/ folder of every **Velocity** server.

    ### Put it into every Spigot folder
    Place the `SkinsRestorer.jar` in the ./plugins/ folders of **every Spigot** server.

    ### Prepare your backend servers
    Make sure you have the same `config.yml` file on every server. (You can use the same file on every server)
    Also check & set on every backend server (paper) paper.yml -> velocity-support: enabled: true

    ### Restart your servers
    Restart (`/restart` or `/stop`) all servers [Plugman or /reload are NOT supported, use /stop or /end]

    ### Configure the plugin
    You may now [configure SkinsRestorer](/setup/configuration#config-guide) on the Velocity server.

    ### That's it!
    Our plugin should now work on your network!
</Steps>

## Advanced Installation

### Securing Velocity Networks

#### What happened?

Because the plugin is open source and a lot of Velocity network owners aren't blocking off ports using firewall, we see
hack client makers abusing a vulnerability caused by not securing Velocity networks.

This security issue comes from the channel we use between Velocity and Spigot for opening the GUI menu, getting selected
actions back to Velocity, and also sending skin data to bukkit to use for instaskinchange (so users don't need to rejoin)

#### How should I secure my self?

You should secure your backend servers by only allowing Velocity to connect to it over the server port. This can be done
by using iptables on both Velocity and Spigot, or other measurements that block off non-whitelisted connections over the
port server ports. We advise you to host both Velocity & Spigot by your self and not use Minecraft server hosting where
you can't secure your ports, or change firewall settings.

We will create a step-by-step guide soon to educate Velocity network owners and how to secure themselves for network-related exploits.

#### What if I can't secure myself?

If you can't secure yourself, we advise you not to put the jar on the Spigot side. This will mitigate the risk at the
cost of SkinsGUI and instaskinchange (you would need to rejoin or change server)
